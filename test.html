<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	
	
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<title>test</title>
    		<link rel="stylesheet" href="styles/olGoogleStyles.css" type="text/css">
    <script type="text/javascript" src="http://openlayers.org/api/OpenLayers.js"></script>
    <script type="text/javascript">
		
 
             var lon = -115.09668;
        var lat = 41.07162;
        var zoom = 5
        var map;
        var Layers = new Object();
        var layer,lslideLayer ,landslidesLayer;
        
        // define map controls
        var baseControls = [
        	new OpenLayers.Control.Navigation({}),
        	new OpenLayers.Control.PanZoomBar({}),
			new OpenLayers.Control.LayerSwitcher({}),
			new OpenLayers.Control.Permalink(),
			new OpenLayers.Control.MousePosition({})
        ];

        // =============== Initialization function ========// =========== OSM Map ====================
		
		        function init(){
            //map = new OpenLayers.Map( 'map' );
            
            map = new OpenLayers.Map('map', {
			
				maxExtent: new OpenLayers.Bounds(
				-128 * 156543.0339,
                -128 * 156543.0339,
                128 * 156543.0339,
                128 * 156543.0339),
				maxResolution: 156543.0339,
				units: 'm', 
				 projection: new OpenLayers.Projection('EPSG:3857'),
                displayProjection: new OpenLayers.Projection("EPSG:4326"),
				controls: baseControls
			});
            
			// =========== OSM Map ====================

            layer = new OpenLayers.Layer.OSM( "Open Street Map");
            map.addLayer(layer);
            
            // =========== USGS National Atlas WMS ====
            // from USGS National Atlas: http://webservices.nationalatlas.gov/wms?SERVICE=WMS&REQUEST=GetCapabilities
            lslideLayer = new OpenLayers.Layer.WMS( 
            	"Landslide Incidence and Susceptibility", 
            	"http://webservices.nationalatlas.gov/wms/geology?",
            	{layers: "lslide", version: '1.3.0', transparent: 'TRUE'},
            	{isBaseLayer: false, visibility: false}
            );
            map.addLayer(lslideLayer);
            
            landslidesLayer = new OpenLayers.Layer.WMS( 
            	"Costly Landslides", 
            	"http://webservices.nationalatlas.gov/wms/geology?",
            	{layers: "landx", version: '1.1.1', transparent: 'TRUE'},
            	{isBaseLayer: false}
				
            );
		
			map.addLayer(landslidesLayer);
			

			
			map.setCenter(
                new OpenLayers.LonLat(lon, lat).transform(
                    new OpenLayers.Projection("EPSG:4326"),
                    map.getProjectionObject()
                ), zoom
            );

            map.addControl(new OpenLayers.Control.LayerSwitcher() );
            map.addControl(new OpenLayers.Control.OverviewMap() );
        }
        // =============== End of Initialization Function ============
        
    </script>
    <style type="text/css">
        #map {width:90%; height:800px}
        body { color: white; background: black; }
  		  h1 { color: green }
  		  h2 { color: red }
  		  body { margin-left: 10%; margin-right: 10%; }
  		  h1 { margin-left: -8%;}
   		  h2 { margin-left: -4%; }
                  html { height: 100% }
    </style      
        
	</head>
	<body onload="init()">
	<p>
	James Johnson<br>
	</p>
	<h1>Test Page</h1>
	
	<div id="map"></div>
	<img src=http://webservices.nationalatlas.gov/wms?version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=lslide&format=image/png&STYLE=default /></a> <img src=http://webservices.nationalatlas.gov/wms?version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=landx&format=image/png&STYLE=default /></a>
	</body>
	
	
		<FORM METHOD="LINK" ACTION="http://jjohnson283.github.io/geog485/index.html">
<INPUT TYPE="submit" VALUE="Back to Home">
</FORM>
</html>

